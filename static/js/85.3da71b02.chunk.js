"use strict";(self.webpackChunkreact_hw_05_movies=self.webpackChunkreact_hw_05_movies||[]).push([[85],{85(e,t,s){s.r(t),s.d(t,{default:()=>v});var a=s(43),i=s(997),o=s(98),c=s(712),n=s(623);const r={SearchForm:"Movies_SearchForm__-CccC",SearchForm_input:"Movies_SearchForm_input__vMSYv",SearchForm_button:"Movies_SearchForm_button__-cyKD",MoviesList:"Movies_MoviesList__tLTQO",MoviesList_link:"Movies_MoviesList_link__m1efb",MoviesPositionContainer:"Movies_MoviesPositionContainer__7krHz",MoviesPositionContainer_title:"Movies_MoviesPositionContainer_title__zI-g0"};var l=s(579);const v=()=>{var e;const[t,s]=(0,a.useState)([]),[v,_]=(0,a.useState)([]),[d,m]=(0,a.useState)(!0),[h,u]=(0,i.ok)(),p=(0,i.zy)(),M=null!==(e=h.get("query"))&&void 0!==e?e:"";(0,a.useEffect)(()=>{M&&(0,o.q8)(M).then(s)},[M]),(0,a.useEffect)(()=>{(async()=>{try{const e=await(0,o.Kk)();_(e)}catch(e){console.error("Error:",e)}finally{m(!1)}})()},[]);return(0,l.jsx)(n.m,{children:(0,l.jsxs)("div",{className:r.MoviesContainer,children:[(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=e.currentTarget;""!==t.elements.query.value.trim()&&(u({query:t.elements.query.value}),t.reset())},className:r.SearchForm,children:[(0,l.jsx)("input",{type:"text",name:"query",className:r.SearchForm_input,placeholder:"Search movies..."}),(0,l.jsx)("button",{type:"submit",className:r.SearchForm_button,children:"Search"})]}),d&&(0,l.jsx)("p",{children:"Loading..."}),M?(0,l.jsxs)("div",{className:r.MoviesPositionContainer,children:[(0,l.jsxs)("p",{className:r.MoviesPositionContainer_title,children:['Search results for "',M,'"']}),(0,l.jsx)("ul",{className:r.MoviesList,children:t.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)(i.N_,{to:"".concat(e.id),state:{from:p},className:r.MoviesList_link,children:e.title})},e.id))})]}):(0,l.jsxs)("div",{className:r.MoviesPositionContainer,children:[(0,l.jsx)("p",{className:r.MoviesPositionContainer_title,children:"Top Rated Movies"}),(0,l.jsx)("ul",{className:r.MoviesList,children:v.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)(i.N_,{to:"".concat(e.id),state:{from:p},className:r.MoviesList_link,children:e.title})},e.id))})]}),(0,l.jsx)(c.j,{})]})})}},98(e,t,s){s.d(t,{Kk:()=>v,LF:()=>n,Nt:()=>o,UM:()=>l,dk:()=>r,q8:()=>c});var a=s(722);const i="9f0ccef62af2a18ba46ca6a861cd70b0";a.A.defaults.baseURL="https://api.themoviedb.org/3";const o=async()=>(await a.A.get("/trending/movie/day?api_key=".concat(i))).data.results,c=async e=>(await a.A.get("/search/movie?api_key=".concat(i,"&query=").concat(e))).data.results,n=async e=>(await a.A.get("/movie/".concat(e,"?api_key=").concat(i))).data,r=async e=>(await a.A.get("/movie/".concat(e,"/credits?api_key=").concat(i))).data.cast,l=async e=>(await a.A.get("/movie/".concat(e,"/reviews?api_key=").concat(i))).data.results,v=async()=>(await a.A.get("/movie/top_rated?api_key=".concat(i))).data.results},712(e,t,s){s.d(t,{j:()=>c});var a=s(997);const i="ToHomeScreen_ToHomeScreen__MvOzA";var o=s(579);const c=()=>{const e=(0,a.Zp)();return(0,o.jsx)("div",{className:i,onClick:()=>e("/react-hw-05-movies"),"aria-label":"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u043d\u0430 \u0433\u043e\u043b\u043e\u0432\u043d\u0443",title:"To home screen",children:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"28px",viewBox:"0 0 24 24",width:"28px",fill:"currentColor",children:[(0,o.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})]})})}}}]);
//# sourceMappingURL=85.3da71b02.chunk.js.map