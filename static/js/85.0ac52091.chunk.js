"use strict";(self.webpackChunkreact_hw_05_movies=self.webpackChunkreact_hw_05_movies||[]).push([[85],{85(e,t,s){s.r(t),s.d(t,{default:()=>l});var a=s(43),i=s(997),o=s(98),c=s(623);const n={SearchForm:"Movies_SearchForm__-CccC",SearchForm_input:"Movies_SearchForm_input__vMSYv",SearchForm_button:"Movies_SearchForm_button__-cyKD",MoviesList:"Movies_MoviesList__tLTQO",MoviesList_link:"Movies_MoviesList_link__m1efb",MoviesPositionContainer:"Movies_MoviesPositionContainer__7krHz",MoviesPositionContainer_title:"Movies_MoviesPositionContainer_title__zI-g0"};var r=s(579);const l=()=>{var e;const[t,s]=(0,a.useState)([]),[l,_]=(0,a.useState)([]),[v,m]=(0,a.useState)(!0),[d,u]=(0,i.ok)(),h=(0,i.zy)(),M=null!==(e=d.get("query"))&&void 0!==e?e:"";(0,a.useEffect)(()=>{M&&(0,o.q8)(M).then(s)},[M]),(0,a.useEffect)(()=>{(async()=>{try{const e=await(0,o.Kk)();_(e)}catch(e){console.error("Error:",e)}finally{m(!1)}})()},[]);return(0,r.jsx)(c.m,{children:(0,r.jsxs)("div",{className:n.MoviesContainer,children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=e.currentTarget;""!==t.elements.query.value.trim()&&(u({query:t.elements.query.value}),t.reset())},className:n.SearchForm,children:[(0,r.jsx)("input",{type:"text",name:"query",className:n.SearchForm_input,placeholder:"Search movies..."}),(0,r.jsx)("button",{type:"submit",className:n.SearchForm_button,children:"Search"})]}),v&&(0,r.jsx)("p",{children:"Loading..."}),M?(0,r.jsxs)("div",{className:n.MoviesPositionContainer,children:[(0,r.jsxs)("p",{className:n.MoviesPositionContainer_title,children:['Search results for "',M,'"']}),(0,r.jsx)("ul",{className:n.MoviesList,children:t.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(i.N_,{to:"".concat(e.id),state:{from:h},className:n.MoviesList_link,children:e.title})},e.id))})]}):(0,r.jsxs)("div",{className:n.MoviesPositionContainer,children:[(0,r.jsx)("p",{className:n.MoviesPositionContainer_title,children:"Top Rated Movies"}),(0,r.jsx)("ul",{className:n.MoviesList,children:l.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(i.N_,{to:"".concat(e.id),state:{from:h},className:n.MoviesList_link,children:e.title})},e.id))})]})]})})}},98(e,t,s){s.d(t,{Kk:()=>_,LF:()=>n,Nt:()=>o,UM:()=>l,dk:()=>r,q8:()=>c});var a=s(722);const i="9f0ccef62af2a18ba46ca6a861cd70b0";a.A.defaults.baseURL="https://api.themoviedb.org/3";const o=async()=>(await a.A.get("/trending/movie/day?api_key=".concat(i))).data.results,c=async e=>(await a.A.get("/search/movie?api_key=".concat(i,"&query=").concat(e))).data.results,n=async e=>(await a.A.get("/movie/".concat(e,"?api_key=").concat(i))).data,r=async e=>(await a.A.get("/movie/".concat(e,"/credits?api_key=").concat(i))).data.cast,l=async e=>(await a.A.get("/movie/".concat(e,"/reviews?api_key=").concat(i))).data.results,_=async()=>(await a.A.get("/movie/top_rated?api_key=".concat(i))).data.results}}]);
//# sourceMappingURL=85.0ac52091.chunk.js.map