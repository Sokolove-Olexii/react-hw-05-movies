{"version":3,"file":"static/js/747.7aa301e4.chunk.js","mappings":"8LAEA,MAAMA,EAAU,mCAChBC,EAAAA,EAAMC,SAASC,QAAO,+BAEf,MAAMC,EAAoBC,gBACRJ,EAAAA,EAAMK,IAAI,+BAADC,OAAgCP,KAChDQ,KAAKC,QAGVC,EAAeL,gBACHJ,EAAAA,EAAMK,IAAI,yBAADC,OACLP,EAAO,WAAAO,OAAUI,KAE5BH,KAAKC,QAGVG,EAAkBP,gBACNJ,EAAAA,EAAMK,IAAI,UAADC,OAAWM,EAAO,aAAAN,OAAYP,KAC9CQ,KAGLM,EAAkBT,gBACNJ,EAAAA,EAAMK,IAAI,UAADC,OACpBM,EAAO,qBAAAN,OAAoBP,KAEvBQ,KAAKO,KAGVC,EAAkBX,gBACNJ,EAAAA,EAAMK,IAAI,UAADC,OACpBM,EAAO,qBAAAN,OAAoBP,KAEvBQ,KAAKC,QAGVQ,EAAcZ,gBACFJ,EAAAA,EAAMK,IAAI,4BAADC,OAA6BP,KAC7CQ,KAAKC,O,iFCrCvB,SAAgB,aAAe,mCAAmC,oBAAsB,0CAA0C,sBAAwB,4CAA4C,iBAAmB,uCAAuC,sBAAwB,4CAA4C,mBAAqB,yCAAyC,sBAAwB,4CAA4C,oBAAsB,0CAA0C,mBAAqB,yCAAyC,uBAAyB,6CAA6C,wBAA0B,+C,aCKpqB,MAsEA,EAtEqBS,KACnB,MAAM,QAAEL,IAAYM,EAAAA,EAAAA,MACbC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,MASnC,OAJAC,EAAAA,EAAAA,WAAU,MACRX,EAAAA,EAAAA,IAAgBC,GAASW,KAAKH,GAAUI,MAAMC,QAAQC,QACrD,CAACd,IAECO,GAGHQ,EAAAA,EAAAA,MAACC,EAAAA,EAAS,CAAAC,SAAA,EAERF,EAAAA,EAAAA,MAAA,WAASG,UAAWC,EAAOd,aAAaY,SAAA,EACtCF,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAOC,oBAAoBH,SAAA,EACzCI,EAAAA,EAAAA,KAAA,OACEC,IACEf,EAAMgB,YAAW,mCAAA7B,OACsBa,EAAMgB,aACzC,kBAENC,IAAKjB,EAAMkB,MACXP,UAAWC,EAAOO,oBAEpBX,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAOQ,sBAAsBV,SAAA,EAC3CF,EAAAA,EAAAA,MAAA,MAAIG,UAAWC,EAAOS,mBAAmBX,SAAA,CACtCV,EAAMkB,MAAM,KAAGlB,EAAMsB,aAAaC,MAAM,EAAG,GAAG,QAEjDf,EAAAA,EAAAA,MAAA,KAAGG,UAAWC,EAAOY,sBAAsBd,SAAA,CAAC,eAE1CF,EAAAA,EAAAA,MAAA,KAAGG,UAAWC,EAAOa,mBAAmBf,SAAA,CACrCgB,KAAKC,MAA2B,GAArB3B,EAAM4B,cAAmB,WAGzCd,EAAAA,EAAAA,KAAA,MAAAJ,SAAI,cACJI,EAAAA,EAAAA,KAAA,KAAGH,UAAWC,EAAOiB,sBAAsBnB,SAAEV,EAAM8B,YACnDhB,EAAAA,EAAAA,KAAA,MAAAJ,SAAI,YACJI,EAAAA,EAAAA,KAAA,KAAGH,UAAWC,EAAOmB,oBAAoBrB,SACtCV,EAAMgC,OAAOC,IAAKC,GAAMA,EAAEC,MAAMC,KAAK,eAK5C5B,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAOyB,mBAAmB3B,SAAA,EACxCI,EAAAA,EAAAA,KAAA,MAAAJ,SAAI,4BACJF,EAAAA,EAAAA,MAAA,MAAIG,UAAWC,EAAO0B,uBAAuB5B,SAAA,EAC3CI,EAAAA,EAAAA,KAAA,MAAAJ,UACEI,EAAAA,EAAAA,KAACyB,EAAAA,GAAI,CAACC,GAAG,OAAO7B,UAAWC,EAAO6B,wBAAwB/B,SAAC,YAI7DI,EAAAA,EAAAA,KAAA,MAAAJ,UACEI,EAAAA,EAAAA,KAACyB,EAAAA,GAAI,CAACC,GAAG,UAAU7B,UAAWC,EAAO6B,wBAAwB/B,SAAC,wBAQtEI,EAAAA,EAAAA,KAAC4B,EAAAA,SAAQ,CAACC,UAAU7B,EAAAA,EAAAA,KAAA,OAAAJ,SAAK,uBAAyBA,UAChDI,EAAAA,EAAAA,KAAC8B,EAAAA,GAAM,SArDM,K","sources":["api/tmdb.js","webpack://react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.scss?57ee","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_KEY = \"9f0ccef62af2a18ba46ca6a861cd70b0\";\r\naxios.defaults.baseURL = `https://api.themoviedb.org/3`;\r\n\r\nexport const getTrendingMovies = async () => {\r\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\r\n  return response.data.results;\r\n};\r\n\r\nexport const searchMovies = async (query) => {\r\n  const response = await axios.get(\r\n    `/search/movie?api_key=${API_KEY}&query=${query}`,\r\n  );\r\n  return response.data.results;\r\n};\r\n\r\nexport const getMovieDetails = async (movieId) => {\r\n  const response = await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieCredits = async (movieId) => {\r\n  const response = await axios.get(\r\n    `/movie/${movieId}/credits?api_key=${API_KEY}`,\r\n  );\r\n  return response.data.cast;\r\n};\r\n\r\nexport const getMovieReviews = async (movieId) => {\r\n  const response = await axios.get(\r\n    `/movie/${movieId}/reviews?api_key=${API_KEY}`,\r\n  );\r\n  return response.data.results;\r\n};\r\n\r\nexport const getTopRated = async () => {\r\n  const response = await axios.get(`/movie/top_rated?api_key=${API_KEY}`);\r\n  return response.data.results;\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"MovieDetails\":\"MovieDetails_MovieDetails__FAPCO\",\"MovieDetails_imgPos\":\"MovieDetails_MovieDetails_imgPos__jej1+\",\"MovieDetails_position\":\"MovieDetails_MovieDetails_position__ems9K\",\"MovieDetails_img\":\"MovieDetails_MovieDetails_img__mZerw\",\"MovieDetails_scorePos\":\"MovieDetails_MovieDetails_scorePos__7IeOG\",\"MovieDetails_score\":\"MovieDetails_MovieDetails_score__D48n5\",\"MovieDetails_overview\":\"MovieDetails_MovieDetails_overview__zPavd\",\"MovieDetails_genres\":\"MovieDetails_MovieDetails_genres__c0SHt\",\"MovieDetailsAddInf\":\"MovieDetails_MovieDetailsAddInf__lV9Ox\",\"MovieDetailsAddInf_pos\":\"MovieDetails_MovieDetailsAddInf_pos__TFyHK\",\"MovieDetailsAddInf_link\":\"MovieDetails_MovieDetailsAddInf_link__WR94-\"};","import { useEffect, useState, useRef, Suspense } from \"react\";\r\nimport { useParams, Link, Outlet, useLocation } from \"react-router-dom\";\r\nimport { getMovieDetails } from \"../../api/tmdb\";\r\nimport { Container } from \"../../components/Container/Container\";\r\nimport styles from \"./MovieDetails.module.scss\";\r\n\r\nconst MovieDetails = () => {\r\n  const { movieId } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  // const location = useLocation();\r\n\r\n  // const backLinkLocationRef = useRef(location.state?.from ?? \"/\");\r\n\r\n  useEffect(() => {\r\n    getMovieDetails(movieId).then(setMovie).catch(console.error);\r\n  }, [movieId]);\r\n\r\n  if (!movie) return null;\r\n\r\n  return (\r\n    <Container>\r\n      {/* <Link to={backLinkLocationRef.current}>Go back</Link> */}\r\n      <section className={styles.MovieDetails}>\r\n        <div className={styles.MovieDetails_imgPos}>\r\n          <img\r\n            src={\r\n              movie.poster_path\r\n                ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\r\n                : \"default-img.jpg\"\r\n            }\r\n            alt={movie.title}\r\n            className={styles.MovieDetails_img}\r\n          />\r\n          <div className={styles.MovieDetails_position}>\r\n            <h1 className={styles.MovieDetails_title}>\r\n              {movie.title} ({movie.release_date.slice(0, 4)})\r\n            </h1>\r\n            <p className={styles.MovieDetails_scorePos}>\r\n              User Score:\r\n              <p className={styles.MovieDetails_score}>\r\n                {Math.round(movie.vote_average * 10)}%\r\n              </p>\r\n            </p>\r\n            <h3>Overview</h3>\r\n            <p className={styles.MovieDetails_overview}>{movie.overview}</p>\r\n            <h3>Genres</h3>\r\n            <p className={styles.MovieDetails_genres}>\r\n              {movie.genres.map((g) => g.name).join(\", \")}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={styles.MovieDetailsAddInf}>\r\n          <h3>Additional information</h3>\r\n          <ul className={styles.MovieDetailsAddInf_pos}>\r\n            <li>\r\n              <Link to=\"cast\" className={styles.MovieDetailsAddInf_link}>\r\n                Cast\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"reviews\" className={styles.MovieDetailsAddInf_link}>\r\n                Reviews\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </section>\r\n\r\n      <Suspense fallback={<div>Loading subpage...</div>}>\r\n        <Outlet />\r\n      </Suspense>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default MovieDetails;\r\n"],"names":["API_KEY","axios","defaults","baseURL","getTrendingMovies","async","get","concat","data","results","searchMovies","query","getMovieDetails","movieId","getMovieCredits","cast","getMovieReviews","getTopRated","MovieDetails","useParams","movie","setMovie","useState","useEffect","then","catch","console","error","_jsxs","Container","children","className","styles","MovieDetails_imgPos","_jsx","src","poster_path","alt","title","MovieDetails_img","MovieDetails_position","MovieDetails_title","release_date","slice","MovieDetails_scorePos","MovieDetails_score","Math","round","vote_average","MovieDetails_overview","overview","MovieDetails_genres","genres","map","g","name","join","MovieDetailsAddInf","MovieDetailsAddInf_pos","Link","to","MovieDetailsAddInf_link","Suspense","fallback","Outlet"],"ignoreList":[],"sourceRoot":""}