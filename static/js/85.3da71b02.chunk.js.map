{"version":3,"file":"static/js/85.3da71b02.chunk.js","mappings":"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","sources":["webpack://react-hw-05-movies/./src/pages/Movies/Movies.module.scss?c7a6","pages/Movies/Movies.jsx","api/tmdb.js","webpack://react-hw-05-movies/./src/components/ToHomeSceen/ToHomeScreen.module.scss?70a9","components/ToHomeSceen/ToHomeScreen.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"SearchForm\":\"Movies_SearchForm__-CccC\",\"SearchForm_input\":\"Movies_SearchForm_input__vMSYv\",\"SearchForm_button\":\"Movies_SearchForm_button__-cyKD\",\"MoviesList\":\"Movies_MoviesList__tLTQO\",\"MoviesList_link\":\"Movies_MoviesList_link__m1efb\",\"MoviesPositionContainer\":\"Movies_MoviesPositionContainer__7krHz\",\"MoviesPositionContainer_title\":\"Movies_MoviesPositionContainer_title__zI-g0\"};","import { useState, useEffect } from \"react\";\r\nimport { useSearchParams, Link, useLocation } from \"react-router-dom\";\r\nimport { searchMovies, getTopRated } from \"../../api/tmdb\";\r\nimport { ToHomeScreen } from \"../../components/ToHomeSceen/ToHomeScreen\";\r\nimport { Container } from \"../../components/Container/Container\";\r\nimport styles from \"./Movies.module.scss\";\r\n\r\nconst Movies = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [topRated, setTopRated] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const location = useLocation();\r\n\r\n  const query = searchParams.get(\"query\") ?? \"\";\r\n\r\n  useEffect(() => {\r\n    if (!query) return;\r\n    searchMovies(query).then(setMovies);\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    const fetchTopRated = async () => {\r\n      try {\r\n        const topRatedMovies = await getTopRated();\r\n        setTopRated(topRatedMovies);\r\n      } catch (error) {\r\n        console.error(\"Error:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchTopRated();\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const form = e.currentTarget;\r\n    const value = form.elements.query.value;\r\n    if (value.trim() === \"\") return;\r\n    setSearchParams({ query: form.elements.query.value });\r\n    form.reset();\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div className={styles.MoviesContainer}>\r\n        <form onSubmit={handleSubmit} className={styles.SearchForm}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"query\"\r\n            className={styles.SearchForm_input}\r\n            placeholder=\"Search movies...\"\r\n          />\r\n          <button type=\"submit\" className={styles.SearchForm_button}>\r\n            Search\r\n          </button>\r\n        </form>\r\n        {loading && <p>Loading...</p>}\r\n        {query ? (\r\n          <div className={styles.MoviesPositionContainer}>\r\n            <p className={styles.MoviesPositionContainer_title}>\r\n              Search results for \"{query}\"\r\n            </p>\r\n            <ul className={styles.MoviesList}>\r\n              {movies.map((movie) => (\r\n                <li key={movie.id}>\r\n                  <Link\r\n                    to={`${movie.id}`}\r\n                    state={{ from: location }}\r\n                    className={styles.MoviesList_link}\r\n                  >\r\n                    {movie.title}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ) : (\r\n          <div className={styles.MoviesPositionContainer}>\r\n            <p className={styles.MoviesPositionContainer_title}>\r\n              Top Rated Movies\r\n            </p>\r\n            <ul className={styles.MoviesList}>\r\n              {topRated.map((movie) => (\r\n                <li key={movie.id}>\r\n                  <Link\r\n                    to={`${movie.id}`}\r\n                    state={{ from: location }}\r\n                    className={styles.MoviesList_link}\r\n                  >\r\n                    {movie.title}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n        <ToHomeScreen />\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"9f0ccef62af2a18ba46ca6a861cd70b0\";\r\naxios.defaults.baseURL = `https://api.themoviedb.org/3`;\r\n\r\nexport const getTrendingMovies = async () => {\r\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\r\n  return response.data.results;\r\n};\r\n\r\nexport const searchMovies = async (query) => {\r\n  const response = await axios.get(\r\n    `/search/movie?api_key=${API_KEY}&query=${query}`,\r\n  );\r\n  return response.data.results;\r\n};\r\n\r\nexport const getMovieDetails = async (movieId) => {\r\n  const response = await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\r\n  return response.data;\r\n};\r\n\r\nexport const getMovieCredits = async (movieId) => {\r\n  const response = await axios.get(\r\n    `/movie/${movieId}/credits?api_key=${API_KEY}`,\r\n  );\r\n  return response.data.cast;\r\n};\r\n\r\nexport const getMovieReviews = async (movieId) => {\r\n  const response = await axios.get(\r\n    `/movie/${movieId}/reviews?api_key=${API_KEY}`,\r\n  );\r\n  return response.data.results;\r\n};\r\n\r\nexport const getTopRated = async () => {\r\n  const response = await axios.get(`/movie/top_rated?api_key=${API_KEY}`);\r\n  return response.data.results;\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"ToHomeScreen\":\"ToHomeScreen_ToHomeScreen__MvOzA\"};","import { useNavigate } from \"react-router\";\r\nimport styles from \"./ToHomeScreen.module.scss\";\r\n\r\nexport const ToHomeScreen = () => {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <div\r\n      className={styles.ToHomeScreen}\r\n      onClick={() => navigate(\"/react-hw-05-movies\")}\r\n      aria-label=\"Повернутися на головну\"\r\n      title=\"To home screen\"\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        height=\"28px\"\r\n        viewBox=\"0 0 24 24\"\r\n        width=\"28px\"\r\n        fill=\"currentColor\"\r\n      >\r\n        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n        <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n"],"names":["Movies","_searchParams$get","movies","setMovies","useState","topRated","setTopRated","loading","setLoading","searchParams","setSearchParams","useSearchParams","location","useLocation","query","get","useEffect","searchMovies","then","async","topRatedMovies","getTopRated","error","console","fetchTopRated","_jsx","Container","children","_jsxs","className","styles","MoviesContainer","onSubmit","e","preventDefault","form","currentTarget","elements","value","trim","reset","SearchForm","type","name","SearchForm_input","placeholder","SearchForm_button","MoviesPositionContainer","MoviesPositionContainer_title","MoviesList","map","movie","Link","to","concat","id","state","from","MoviesList_link","title","ToHomeScreen","API_KEY","axios","defaults","baseURL","getTrendingMovies","data","results","getMovieDetails","movieId","getMovieCredits","cast","getMovieReviews","navigate","useNavigate","onClick","xmlns","height","viewBox","width","fill","d"],"ignoreList":[],"sourceRoot":""}